---
import RootLayout from "../../layouts/RootLayout.astro"
import AddProductModal from '../../components/AddProductModal'

const data = Astro.locals

if (!data.session) return Astro.redirect("/")

if (data.session && data.user.role !== "admin")
  return Astro.redirect("/")
---

<RootLayout title='Retro Rocket ðŸš€ Products'>
  <div class="my-8">
    <div class="flex items-center justify-between">
        <h1 class="text-sm text-gray-900">Inventory</h1>
        <AddProductModal client:load />
    </div>
  </div>
</RootLayout>
